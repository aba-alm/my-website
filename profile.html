<!-- profile.html - Shows user profile and earned certificate -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Profile</title>
  <style>
    body {
	font-family: Arial;
	background: #f4f4f4;
	margin: 0; 
	padding: 0; 
	}
    header {
	background: #34495e; 
	color: white;
	text-align: center;
	padding: 20px;
	}
    nav { 
	text-align: center;
	background: #ecf0f1;
	padding: 10px;
	}
    nav a {
	margin: 0 15px; 
	text-decoration: none; 
	color: #2c3e50; 
	font-weight: bold; 
	}
    section {
      max-width: 700px;
	  margin: auto;
	  background: white;
	  padding: 20px;
      margin-top: 30px;
	  border-radius: 8px;
	  text-align: left;
    }
    img.profile-pic {
	border-radius: 50%;
	width: 80px;
	display: block;
	margin-bottom: 20px;
	}
    .cert { 
	width: 100%;
	border-radius: 8px;
	margin-top: 15px;
	}
    .back-arrow {
	display: block;
	margin-bottom: 20px;
	color: #3498db;
	font-weight: bold;
	text-decoration: none;
	}
	
  </style>
</head>
<body>
  <header>
    <h1>Your Profile</h1>
  </header>
  <nav>
    <a href="courses.html">Courses</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="profile.html">Profile</a>
  </nav>
  <section>
    <a href="courses.html" class="back-arrow">‚Üê Back to Courses</a>
    <img src="Pic2.png" alt="Profile Picture" class="profile-pic">
    <p><strong>Name:</strong> <span id="profName">-</span></p>
    <p><strong>Email:</strong> <span id="profEmail">-</span></p>
    <p><strong>Phone:</strong> <span id="profPhone">-</span></p>
    <p><strong>Level:</strong> Beginner</p>
    <h3>üìú My Certificates:</h3>
    <img src="Pic1.png"< width="200"/><br/> 
  </section>

 <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyD2out7Gek8a9cGVy4PiS9tRG-gqMRVGkU",
    authDomain: "newserver4044.firebaseapp.com",
    projectId: "newserver4044",
    storageBucket: "newserver4044.appspot.com",
    messagingSenderId: "708432924130",
    appId: "1:708432924130:web:517c576d05e9d4de04bdbb",
    measurementId: "G-RVGCD3ZFYF"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  onAuthStateChanged(auth, async (user) => {
    if (user) {
      const docRef = doc(db, "users", user.uid);
      const docSnap = await getDoc(docRef);

      if (docSnap.exists()) {
        const data = docSnap.data();
        document.getElementById("profName").innerText = data.name;
        document.getElementById("profEmail").innerText = user.email;
        document.getElementById("profPhone").innerText = data.phone;
      } else {
        alert("User data not found.");
      }
    } else {
      alert("Not logged in.");
      window.location.href = "login.html";
    }
  });
</script>

</body>
</html>
